class BVSelect{constructor({selector:a="defaultId",width:b="100%",searchbox:c=!1,search_autofocus:d=!1,offset:e=!0,search_placeholder:f="Search...",placeholder:g="Select Option",breakpoint:h="600"}){function BVfadeOut(a){a.style.opacity=1,function fade(){(a.style.opacity-=.1)<0?a.style.display="none":requestAnimationFrame(fade)}()}function BVfadeIn(a,b){a.style.opacity=0,a.style.display=b||"block",function fade(){var b=parseFloat(a.style.opacity);(b+=.1)>1||(a.style.opacity=b,requestAnimationFrame(fade))}()}function FixVerticalViewPort(){var a=Math.max(document.documentElement.clientHeight||0,window.innerHeight||0);var b=document.getElementById("ul_"+j);var c=b.lastChild;var d=c.getBoundingClientRect().top;Math.round(d+50)>Math.round(a)?(m=j,document.getElementById("ul_"+j).style.position="fixed",document.getElementById("ul_"+j).style.bottom="0px"):(m=0,document.getElementById("ul_"+j).style.position="absolute",document.getElementById("ul_"+j).style.bottom="")}var j=Math.floor(Math.random()*(9999-0+1))+0;var k=f;var l=g;var m=0;var n=[];var o="";var p="";var q=a.substring(1);this.selector=a.substring(1),this.searchbox=c,this.width=b,this.offset=e,this.randomID=j,this.search_placeholder,this.breakpoint=h,this.search_autofocus=d,document.getElementById(this.selector).style.display="none",this.SetupListOptions=function(){var a=document.getElementById(this.selector);for(var b=0;b<a.length;b++){var c=a[b].text;var d=a[b].value;var e=a[b].disabled;var f=a[b].getAttribute("data-separator");var g=a[b].getAttribute("data-img");var h=a[b].getAttribute("data-icon");if(e==!0)var k="bv_disabled";else var k="";if(f)var m="bv_separator";else var m="";if(g)var o="<img src="+g+">";else if(h)var o="<i class='"+h+"' aria-hidden='true'></i>";else var o="";document.getElementById("ul_"+j).insertAdjacentHTML("beforeend","<li class='"+k+" "+m+"'  > "+o+" "+c+"</li>")}if(document.getElementById("bv_"+j).parentElement.querySelector(".selected-icon")!==null){const a=document.querySelector("#ul_"+j+" li:first-child").querySelector("img");document.getElementById("bv_"+j).parentElement.querySelector(".selected-icon").appendChild(a),document.querySelector("#ul_"+j).closest(".selection-wrap").classList.add("active")}document.querySelectorAll("#ul_"+j+" li").forEach(b=>{b.addEventListener("click",c=>{const d=Array.from(b.parentNode.children).indexOf(b);var e=document.getElementById(this.selector);if(document.getElementById("selected-icon")!==null&&b.querySelector("img")!==null&&(document.getElementById("selected-icon").innerHTML=`<img class="selected_icon" src="${b.querySelector("img").src}" alt="">`,b.closest(".selection-wrap").classList.add("active")),this.searchbox==!0)var f=-1;else var f="";if(b.classList.contains("bv_disabled")||b.classList.contains("nofocus")||b.classList.contains("bv_separator"));else{if(e.attributes.multiple){var g="";if(event.preventDefault(),n.indexOf(d)>-1){var h=n.indexOf(d);n.splice(h,1),document.getElementById(this.selector)[d+f].selected=!1,b.style.backgroundColor="transparent"}else n.push(d),b.style.backgroundColor="#ececec";if(n.length==0)g=l;else{for(var k=0;k<n.length;k++){var m=n[k];document.getElementById(this.selector).getElementsByTagName("option")[m+f].selected="selected",g+=", "+e[m-1].innerHTML}g=g.substring(2)}document.getElementById("main_"+j).innerHTML=g+"<i id='arrow_"+j+"' class='arrows_bv arrow down'></i>"}else document.getElementById(this.selector).getElementsByTagName("option")[d+f].selected="selected",a.onchange!=null&&a.onchange!==void 0&&document.getElementById(this.selector).onchange(),document.getElementById("main_"+j).innerHTML=b.textContent+"<i id='arrow_"+j+"' class='arrows_bv arrow down'></i>",document.getElementById("ul_"+j).style.display="none",document.body.classList.remove("stop-scrolling"),document.body.contains(document.getElementById("deletebg"))&&document.getElementById("deletebg").remove(),FixVerticalViewPort();this.searchbox==!0&&(document.getElementById("input_"+j).value="",Array.from(document.querySelectorAll("#ul_"+j+" li")).forEach(function(a){a.style.display="block"}))}})})},this.CriarDivBase=function(){document.getElementById(this.selector).insertAdjacentHTML("afterend","<div id=\"bv_"+j+"\" data-search=\""+this.searchbox+"\" class=\"bv_mainselect\"></div>"),document.getElementById("bv_"+j).insertAdjacentHTML("afterbegin","<div id=\"main_"+j+"\" style=\"width:"+this.width+";\" class=\"bv_atual bv_background\"></div><ul id=\"ul_"+j+"\" class=\"bv_ul_inner bv_background\"></ul>");var a=document.getElementById("ul_"+j);var b=document.getElementById("bv_"+j);var f=document.getElementById("main_"+j).offsetWidth;a.style.width=f+"px",this.searchbox==!0&&document.querySelector("#ul_"+j).insertAdjacentHTML("afterbegin","<li class=\"nofocus\"><div class=\"innerinput\"><input placeholder=\""+k+"\" class=\"bv_input\" id=\"input_"+j+"\" type=\"text\"></div</li>");var g=document.getElementById(this.selector);if(!g.attributes.multiple){for(var m=0;m<g.length;m++)if(g[m].getAttribute("selected")=="")var n=1;p=n==1?g.options[g.selectedIndex].text:l}else p=l;document.getElementById("main_"+j).innerHTML=p+"<i id='arrow_"+j+"' class='arrows_bv arrow down'></i>",document.getElementById("main_"+j).addEventListener("click",function(){document.getElementById("ul_"+j).style.position="absolute",document.getElementById("ul_"+j).style.bottom="",window.innerWidth<h?(document.getElementById("ul_"+j).classList.add("bv_ul_mobile"),document.getElementById(q).insertAdjacentHTML("afterend","<div id=\"deletebg\" class=\"bv_ul_bg\"></div>"),document.body.classList.add("stop-scrolling")):document.getElementById("ul_"+j).classList.remove("bv_ul_mobile");var b=document.getElementById("main_"+j).offsetWidth;a.style.width=b+"px",document.getElementById("ul_"+j).style.display=="block"?(document.getElementById("ul_"+j).style.display="none",Array.from(document.querySelectorAll(".arrows_bv")).forEach(function(a){a.classList.remove("up"),a.classList.add("down")})):(Array.from(document.querySelectorAll(".bv_ul_inner")).forEach(function(a){a.style.display="none"}),BVfadeIn(document.getElementById("ul_"+j)),Array.from(document.querySelectorAll(".arrows_bv")).forEach(function(a){a.classList.remove("up"),a.classList.add("down")}),document.querySelector("#arrow_"+j).classList.remove("down"),document.querySelector("#arrow_"+j).classList.add("up")),e==!0&&FixVerticalViewPort(),d==!0&&c==!0&&document.getElementById("input_"+j).focus()},!1),this.SetupListOptions()},this.CriarDivBase(),document.addEventListener("scroll",function(){if(m!=0){var a=Math.max(document.documentElement.clientHeight||0,window.innerHeight||0);var b=document.getElementById("main_"+j);var c=b.lastChild;var d=c.getBoundingClientRect().top;var e=document.getElementById("ul_"+j).clientHeight;var f=a-d;f>e&&FixVerticalViewPort()}},!1),this.searchbox==!0&&document.getElementById("input_"+j).addEventListener("keyup",function(){var a,b,c,d,e,f;for(a=document.getElementById("input_"+j),b=a.value.toUpperCase(),c=document.getElementById("ul_"+j),d=c.getElementsByTagName("li"),Array.from(document.querySelectorAll(".bv_separator")).forEach(function(a){a.style.display="none"}),e=0;e<d.length;e++)b==""?Array.from(document.querySelectorAll("#ul_"+j+" li")).forEach(function(a){a.style.display="block"}):(f=d[e].innerText||d[e].textContent,f.toUpperCase().indexOf(b)>-1&&!d[e].classList.contains("bv_separator")?d[e].style.display="":!d[e].classList.contains("nofocus")&&(d[e].style.display="none"))},!1),document.addEventListener("click",function(a){a.target.closest(".bv_ul_inner")&&event.target.classList.contains("bv_input")||event.target.classList.contains("bv_input")||event.target.classList.contains("bv_atual")||event.target.nodeName=="LI"||(Array.from(document.querySelectorAll(".bv_ul_inner")).forEach(function(a){a.style.display="none"}),Array.from(document.querySelectorAll(".arrows_bv")).forEach(function(a){a.classList.remove("up"),a.classList.add("down")}),Array.from(document.querySelectorAll("#input_"+j)).forEach(function(a){a.value=""}),Array.from(document.querySelectorAll("#ul_"+j+" li")).forEach(function(a){a.style.display="block"}),document.body.classList.remove("stop-scrolling"),document.body.contains(document.getElementById("deletebg"))&&document.getElementById("deletebg").remove(),document.getElementById("ul_"+j)&&(m=0,document.getElementById("ul_"+j).style.position="absolute",document.getElementById("ul_"+j).style.bottom=""))},!0)}Destroy(){document.getElementById("bv_"+this.randomID).remove(),document.getElementById(this.selector).style.display="block"}Update(){Array.from(document.querySelectorAll("#ul_"+this.randomID+" li")).forEach(function(a){a.classList.contains("nofocus")||a.remove()}),this.SetupListOptions()}GetID(){return this.randomID}Change(a){if(a.placeholder&&(document.getElementById("main_"+this.randomID).innerHTML=a.placeholder+"<i id='arrow_"+this.randomID+"' class='arrows_bv arrow down'></i>"),a.search_placeholder&&(document.getElementById("input_"+this.randomID).placeholder=a.search_placeholder),a.options&&typeof a.options=="object"){document.querySelector("#"+this.selector).innerHTML="";var b=Object.keys(a.options).length;for(var c=0;c<b;c++){var d,e,f,g;d=a.options[c].disabled==!0?"disabled":"",e=a.options[c].separator==!0?"data-separator='true'":"",f=a.options[c].img?"data-img='"+a.options[c].img+"'":"",g=a.options[c].icon?"data-icon='"+a.options[c].icon+"'":"",document.getElementById(this.selector).insertAdjacentHTML("beforeend","<option "+f+" "+g+" "+e+" "+d+" value="+a.options[c].value+" >"+a.options[c].inner_text+"</option>")}}else console.error("Options must be and Object. Read documentation.")}SetOption(a){var b=document.getElementById(this.selector);if(a.type=="byIndex")b.selectedIndex=a.value,b.getAttribute("onchange")!=null&&document.getElementById(this.selector).onchange(),document.getElementById("main_"+this.randomID).innerHTML=b.options[b.selectedIndex].text+"<i id='arrow_"+this.randomID+"' class='arrows_bv arrow down'></i>";else if(a.type=="byValue")for(var c=0;c<b.length;c++)b[c].value==a.value&&(b.selectedIndex=b[c].index,b.getAttribute("onchange")!=null&&document.getElementById(this.selector).onchange(),document.getElementById("main_"+this.randomID).innerHTML=b[c].innerText+"<i id='arrow_"+this.randomID+"' class='arrows_bv arrow down'></i>")}AppendOption(a){console.log(a);var b=a.position;if(b==null)var b="beforeend";if(a.options&&typeof a.options=="object"){var c=Object.keys(a.options).length;for(var d=0;d<c;d++){var e,f,g,h;e=a.options[d].disabled==!0?"disabled":"",f=a.options[d].separator==!0?"data-separator='true'":"",g=a.options[d].img?"data-img='"+a.options[d].img+"'":"",h=a.options[d].icon?"data-icon='"+a.options[d].icon+"'":"",document.getElementById(this.selector).insertAdjacentHTML(b,"<option "+g+" "+h+" "+f+" "+e+" value="+a.options[d].value+" >"+a.options[d].inner_text+"</option>")}}else console.error("Options must be and Object. Read documentation.")}}